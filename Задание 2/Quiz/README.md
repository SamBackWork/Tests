EADME для проекта "Quiz" (Редактор связей для опросов)

Этот проект представляет собой приложение для создания опросов на Django, где можно настраивать логику переходов между вопросами в зависимости от ответов пользователя. Проект выполнен в рамках тестового задания.

**Задача:** Реализовать редактор связей для опросов, позволяющий настраивать следующие типы связей:

*   Любой ответ на вопрос → Переход к любому другому вопросу.
*   Конкретный ответ на вопрос → Переход к любому другому вопросу.

Backend реализован на Django.

## Основные возможности

*   **Динамическая логика опроса:**  Следующий вопрос, который увидит пользователь, может зависеть от его ответа на предыдущий. Это реализовано с помощью модели `QuestionLink`, которая определяет связи между вопросами и ответами.
*   **Типы вопросов:** Поддерживаются вопросы с вводом текста, выбором одного варианта (радиокнопки) и выбором нескольких вариантов (чекбоксы).
*   **Админ-панель:** Предоставляет удобный интерфейс (Django admin) для управления вопросами, ответами и связями между ними.
*   **Валидация данных:**  Включает проверку данных на уровне модели, чтобы предотвратить ошибки (например, нельзя связать вопрос сам с собой).
* **Хранения ответов пользователя** ответы пользователей хранятся в базе данных
*   **Docker:** Приложение упаковано в Docker-контейнер для простого развертывания и запуска.
*   **Начальные данные:**  Содержит файл `initial_data.json` с примерами вопросов и ответов для быстрого старта.
*   **Порядок вопросов:** Вопросы отображаются в определенном порядке, заданном в админ-панели.
*   **Обработка ошибок:**  Предусмотрена базовая обработка ошибок (например, если дан неверный ответ).
*   **Шаблоны:** Используются отдельные HTML-шаблоны для отображения вопросов и страницы завершения опроса. Есть базовая стилизация.

## Структура проекта

```
Quiz/  # Корневая папка
├── firstapp/      # Django-приложение (логика опроса)
│   ├── admin.py   # Настройки админ-панели
│   ├── models.py  # Модели данных (Question, Answer, QuestionLink, UserAnswer)
│   ├── views.py   # Функции-обработчики (логика отображения и переходов)
│   ├── fixtures/
│   │   └── initial_data.json  # Начальные данные
│   ├── migrations/ # Миграции базы данных
│   └── ...
├── Quiz/          # Основной проект Django
│   ├── settings.py # Настройки Django
│   ├── urls.py     # Маршруты URL
│   └── ...
├── templates/     # HTML-шаблоны
│   ├── survey_complete.html  # Страница завершения
│   ├── survey_question.html  # Страница вопроса
├── Dockerfile         # Инструкции для сборки Docker-образа
├── docker-compose.yml # Конфигурация Docker Compose
├── manage.py          # Утилита командной строки Django
└── ...
```

## Установка и запуск

1.  **Требования:**
    *   Docker ([https://docs.docker.com/get-docker/](https://docs.docker.com/get-docker/))
    *   Docker Compose ([https://docs.docker.com/compose/install/](https://docs.docker.com/compose/install/))

2.  **Клонируйте репозиторий:**

    ```bash
    git clone <адрес_вашего_репозитория>
    cd Quiz
    ```

3.  **Соберите и запустите приложение:**

    ```bash
    docker-compose up --build
    ```
    Эта команда:

    *   Создаст Docker-образ.
    *   Запустит контейнер.
    *   Применит миграции базы данных.
    *   Загрузит начальные данные.
    *   Запустит сервер Django.

4.  **Откройте приложение:**

    В браузере перейдите по адресу [http://localhost:8000/survey/](http://localhost:8000/survey/).  Вы увидите первый вопрос.

5.  **Доступ к админ-панели:**

    Перейдите по адресу [http://localhost:8000/admin/](http://localhost:8000/admin/).  Вам нужно будет создать суперпользователя:

    ```bash
    docker-compose exec web python manage.py createsuperuser
    ```

    Следуйте инструкциям, чтобы создать пользователя.  Затем вы сможете войти в админ-панель и управлять данными опроса.
6. **Остановка приложения**
Чтобы остановить приложение нажмите `Ctrl+C` в терминале, где была запущена команда `docker-compose up`.

## Краткое описание файлов

*   **`docker-compose.yml`:**  Определяет сервисы (здесь только `web`).
*   **`docker-entrypoint.sh`:**  Скрипт, который запускается при старте контейнера.  Применяет миграции, загружает данные и запускает сервер.
*   **`Dockerfile`:** Инструкции по сборке Docker-образа.
*   **`manage.py`:**  Утилита Django для администрирования.
*   **`firstapp/`:**  Django-приложение с основной логикой.
    *   **`admin.py`:**  Настройки админ-панели.
    *   **`models.py`:** Модели:
        *   `Question`: Вопрос (текст, тип, порядок).
        *   `Answer`: Ответ (текст, связан с вопросом).
        *   `QuestionLink`: Связь между вопросами и ответами (определяет логику переходов).
        *    `UserAnswer`: Хранит ответ пользователя.
    *   **`views.py`:**  Функции:
        *   `survey_view()`:  Отображает вопрос и обрабатывает ответ.
        *   `get_next_question()`:  Определяет следующий вопрос.
    *   **`fixtures/initial_data.json`:** Начальные данные.
*   **`Quiz/`:**  Основной проект Django.
    *   **`settings.py`:**  Настройки Django.
    *   **`urls.py`:**  URL-адреса.
*   **`templates/`:**  HTML-шаблоны.
    *   **`survey_complete.html`:**  Страница завершения опроса.
    *   **`survey_question.html`:**  Страница вопроса.



